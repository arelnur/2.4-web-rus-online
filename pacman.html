<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pac-Man</title>
  </head>
  <body>
    <h1>Pac-Man</h1>
    <h2>Общие сведения</h2>
    <p>
      Па́кман (<i>Pac-Man</i>) -- аркадная видеоигра, вышедшая в 1980 году,
      разработана японской компанией Namco. Задача игрока -- управляя Пакманом,
      съесть все точки в лабиринте, избегая встречи с привидениями, которые
      гоняются за героем.
    </p>

    <p>
      В Японии созданная игра получила название Puck-Man (<b
        >яп. パックマン паккуман</b
      >), но при локализации в США компания Midway изменила название на Pac-Man,
      считая, что при оригинальном названии дети могли бы закрасить середину
      буквы «P», превратив её в «F», и сделать слово обсценным.
    </p>

    <h2>Персонажи игры</h2>
    Главный персонаж Пакман был сделан дружелюбным -- так люди смогли бы себя с
    ним ассоциировать. Роль врагов в Pac-Man выполняют четыре разноцветных
    призрака:
    <ul>
      <li>
        <b>Блинки</b>: красный призрак, преследует Пакмана без особых затей.
      </li>
      <li>
        <b>Пинки</b>: розовый призрак, который нацелен на позицию, находящуюся
        на расстоянии в 32 пикселя от передней части главного героя.
      </li>
      <li>
        <b>Инки</b>: голубой призрак, стремящийся попасть в точку, найденную по
        особому алгоритму, учитывающую положение следующих объектов:
      </li>

      <ol>
        <li>игрока;</li>
        <li>другого призрака -- Блинки.</li>
      </ol>
      <li>
        <b>Клайд</b>: оранжевый призрак, который, в зависимости от расстояния от
        главного героя, то гонится за Пакманом, то направляется в левый нижний
        угол лабиринта.
      </li>
    </ul>

    <h2>Уровень 256</h2>
    <p>
      Первым человеком, который «обыграл» Pac-Man, стал американец Билли
      Митчелл. Когда создатель игры Тору Иватани встретился с ним, Билли
      спросил, были ли намеренно допущены некоторые особенности, обнаруженные
      им. Иватани посовещался с коллегами и ответил следующее:
    </p>

    <p>
      <i
        >Господин Митчелл. Мы не знаем. Не предполагалось, что в игру можно
        играть так долго.</i
      >
    </p>

    <p>
      По замыслу разработчиков, у Pac-Man не должно было быть конца, так как
      возрастающая сложность игры не позволила бы продвинуться далеко. Однако
      некоторые игроки смогли пройти 255 уровней игры, что занимало несколько
      часов, и на 256 уровне обнаружили проявление программной ошибки в виде
      «экрана смерти».
    </p>

    <img src="https://s.algoritmika.org/105ndet" alt="picture" />

    <p>
      Причиной этой ошибки является процедура, выполняющая подсчёт бонусов под
      лабиринтом. При достижении 256 уровня она загружает в регистр центрального
      процессора значение 255 и увеличивает его на единицу. 255 является
      максимальным значением, которое способно уложиться в регистре процессора
      Zilog Z80, поэтому при увеличении на 1 происходит целочисленное
      переполнение и в регистр записывается ноль.
    </p>

    <p>
      Если значение регистра меньше 7, то подпрограмма считает, что это один из
      первых уровней, на котором нужно нарисовать бонусные символы. После
      рисования регистр (на данный момент равный нулю) уменьшается на единицу и
      происходит «переполнение снизу»: в регистре не может быть записано
      отрицательное число, и в него помещается 255. Цикл рисования выполняется с
      уменьшением значения регистра до тех пор, пока оно не станет равным 0 (то
      есть 256 раз). Изображения бонусов в игре хранятся в специальной таблице.
      Так как её размер меньше 256, то подпрограмма выходит за пределы таблицы и
      начинает использовать не предназначенные для этого данные.
    </p>

    <h2>Переиздания</h2>
    <p>
      В 2010 году, на 30-летие игры, Google представила тематический
      <a href="https://www.google.ru/logos/2010/pacman10-i.html">«дудл» </a> .
      Дизайн лабиринта представлял собой логотип Google, но графика, звуки и
      шаблоны поведения призраков копировали оригинальную игру. При повторном
      нажатии кнопки «Insert coin» на экране появляется Миссис Пакман, и в игру
      можно играть вдвоём на одной клавиатуре.
    </p>

    <p>
      Pac-Man вошёл в состав множества сборников игр от Namco (например, серия
      Namco Museum) и сборников серии игр Pac-Man. Некоторые их них представлены
      ниже.
    </p>
    <table>
      <thead>
        <tr>
          <th><b>Название сборника</b></th>
          <th><b>Дата первого выхода</b></th>
          <th><b>Включённые игры</b></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Namco Museum Vol. 1</td>
          <td>PlayStation: 22 ноября 1995</td>
          <td>
            <ul>
              <li>Bosconian[en],</li>
              <li>Galaga,</li>
              <li>New Rally X[en],</li>
              <li>Pac-Man,</li>
              <li>Pole Position,</li>
              <li>Rally X, Toy Pop</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>Pac-Man Collection</td>
          <td>GameBoy Advance: 12 июля 2001</td>
          <td>
            <ul>
              <li>Pac-Attack,</li>
              <li>Pac-Man,</li>
              <li>Pac-Man Arrangement,</li>
              <li>Pac-Mania</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>Namco Museum</td>
          <td>Nintendo Switch: 28 июля 2017</td>
          <td>
            <ul>
              <li>Dig Dug,</li>
              <li>Galaga '88,</li>
              <li>Pac-Man,</li>
              <li>Pac-Man Vs.,</li>
              <li>Rolling Thunder 1, 2,</li>
              <li>Sky Kid</li>
              <li>Splatterhouse,</li>
              <li>Tank Force</li>
              <li>The Tower of Druaga</li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
  </body>
</html>
